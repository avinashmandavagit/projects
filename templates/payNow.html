{% include 'uhead.html' %}
<style>
body {
  background-image: url("https://www.investopedia.com/thmb/SQUkVNIzt4DzPFWDLHeKczaglj8=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/_PropertyManagement_SasinParaksa-24d8dedc3d094a32b6d1f97f19bb2263.jpg");
  background-repeat: no-repeat;
  background-size: 100%;
  height:90%;
}
</style>
<script>
    function validate(){
        var regex_care_name = /^[a-zA-Z ]*$/;
        let card_name = document.getElementById("card_name").value
        if(!regex_care_name.test(card_name)){
            alert("Invalid Name on Card")
            return false
        }

        let card_number = document.getElementById("card_number").value
        if(card_number.length!=16){
            alert("Card Number Should be 16")
            return false
        }

        let expiry_date = document.getElementById("expiry_date").value
        if(expiry_date.length!=5){
            alert("Invalid Expire Date")
            return false
        }

        let cvv = document.getElementById("cvv").value
        if(cvv.length!=3){
            alert("Invalid CVV")
            return false
        }

        return true
    }
</script>
<div class="container">
    <form action="payNow2" onsubmit="return validate()">
        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card p-3">
                    <div class="mt-3">
                        <input type="hidden" name="sale_id" id="sale_id" value="{{sale['_id']}}">
                        <input type="hidden" name="price" id="price" value="{{sale['price']}}">
                        <input type="hidden" name="user_id" id="user_id" value="{{user_id}}">
                        <h6><label style="color:green;">Pay Amount: ${{sale['price']}}</label></h6>
                    </div>
                    <div class="mt-3">
                        <h6><label for="payment_mode">Card Type</label></h6>
                        <select name="payment_mode" id="payment_mode" class="form-control">
                            <option value="debit">Debit</option>
                            <option value="credit">Credit</option>
                        </select>
                    </div>
                    <div class="mt-3">
                        <h6><label for="card_name">Card Holder Name</label></h6>
                        <input type="text" name="card_name" id="card_name" class="form-control">
                    </div>
                    <div class="mt-3">
                        <h6><label for="card_number">Card Number</label></h6>
                        <input type="text" name="card_number" id="card_number" class="form-control">
                    </div>
                    <div class="mt-3">
                        <h6><label for="expiry_date">Expiry Date</label></h6>
                        <input type="text" name="expiry_date" id="expiry_date" class="form-control">
                    </div>
                    <div class="mt-3">
                        <h6><label for="cvv">CVV</label></h6>
                        <input type="text" name="cvv" id="cvv" class="form-control">
                    </div>
                    <div class="mt-3">
                        <input type="submit" name="pay_enroll" id="pay_enroll" value="Pay" class="form-control btn btn-success">
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
